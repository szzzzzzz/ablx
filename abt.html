<html>
<meta charset="utf-8">
<head>
</head>
<body>
<script>
    window.onload = function dat() {
        document.getElementById("date").value = new Date().toJSON().slice(0, 10)
    };
    function bb(x) {
        var b = "";
        for (var i = 13 - x.replace(/[^\x00-\xff]/g, "**").length; i > 0; i--) {
            b += " "
        }
        return b
    }
    function sub() {
        var txt = "",
                tx2 = "",
                a1 = document.getElementById("l3").value.split(' ').shuffle();


        txt = document.getElementById("l1").value + "\n" + "时间：" + document.getElementById("date").value + "\n" + "------------第一轮------------" + "\n";
        if (a1.length % 2 == 0) {
        } else {
            a1.push("轮空")
        }
        ;
        for (var i = a1.length; i > 0; i -= 2) {
            tx2 += a1[i - 1] + bb(a1[i - 1]) + "0:0" + bb(a1[i - 2]) + a1[i - 2] + "\n"
        }
        ;
        document.getElementById("mes").value = txt + tx2 + "------------第二轮------------";


    }
    if (!Array.prototype.shuffle) {
        Array.prototype.shuffle = function () {
            for (var j, x, i = this.length; i; j = parseInt(Math.random() * i), x = this[--i], this[i] = this[j], this[j] = x);
            return this;
        };
    }
</script>
<form>
    战队<input id="l1" type="text"/>

    <p/>
    输入日期<input id="date" type="date" name="time" value="">注意格式，例子:2015-01-01<p/>
    成员<input id="l3" type="text" size="50"/>

    <p/>
    <button type="button" id="but" onclick="sub()">排表</button><br>
    <textarea id="mes" cols="50" rows="20" name="txt" placeholder="内容:"/></textarea>

</form>
</body>
</html>
